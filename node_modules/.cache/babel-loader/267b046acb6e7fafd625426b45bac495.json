{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\bartm\\\\Documents\\\\react\\\\examengposalinas\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Redirect,Link}from'react-router-dom';import'./Login.css';import Backdrop from'@material-ui/core/Backdrop';import CircularProgress from'@material-ui/core/CircularProgress';import Title from'./components/Title';import Input from'./components/Input';import Item from'./components/Item';import Button from'../../commons/RegularButton';import ModalError from'../../commons/ModalError';import{makeStyles}from'@material-ui/core/styles';var useStyles=makeStyles(function(theme){return{backdrop:{zIndex:2,color:'#fff'}};});var localstorageData=localStorage.getItem('account');var lsd=JSON.parse(localstorageData);var Login=function Login(){var classes=useStyles();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLogin=_useState6[0],setIsLogin=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),hasErrors=_useState10[0],setHasErrors=_useState10[1];var open=true;var _useState11=useState({usernameError:false,passwordError:false}),_useState12=_slicedToArray(_useState11,2),errors=_useState12[0],setErrors=_useState12[1];function handleChange(name,value){switch(name){case'username':setErrors({usernameError:false,passwordError:false});setHasErrors(false);setUsername(value);break;case'password':setErrors({usernameError:false,passwordError:false});setHasErrors(false);setPassword(value);break;default:console.log('no hay valores');}}function showErrors(){setHasErrors(true);setErrors({usernameError:true,passwordError:true});}function stopIsLoading(){setIsLoading(false);showErrors();}function ifMatch(user,pass){if(user==='gposalinas'&&pass==='123456'||user===lsd.username&&pass===lsd.password){var ac={user:user,pass:pass,firstName:'Diego'};var account=JSON.stringify(ac);localStorage.setItem('account',account);setTimeout(function(){return setIsLogin(true);},2000);}else{setTimeout(function(){return stopIsLoading();},2000);}}function handleOnClick(){setIsLoading(true);var login={username:username,password:password};if(login){ifMatch(username,password);}}function clearErrorModal(){setHasErrors(false);setErrors({usernameError:false,passwordError:false});}var params=errors.usernameError===false&&errors.passwordError===false;return React.createElement(React.Fragment,null,isLogin&&React.createElement(Redirect,{to:\"/home\"}),React.createElement(\"div\",{className:\"LoginContainer\"},React.createElement(\"div\",{className:\"LoginContent\"},React.createElement(\"div\",{className:\"Login\"},React.createElement(\"div\",{className:\"LoginHigher\"}),React.createElement(\"div\",{className:\"LoginLower\"},React.createElement(\"img\",{src:\"https://pbs.twimg.com/profile_images/999420356585705472/9Q7akHEo_400x400.jpg\",title:\"avatar\",alt:\"\"}),hasErrors&&React.createElement(ModalError,{title:\"An error occurred!\",text:\"User or password doesn't exist.\",handleOnClick:clearErrorModal}),React.createElement(\"div\",{className:\"ItemUserLogin\"},React.createElement(Item,{text:\"Usuario\"}),React.createElement(Input,{attribute:{name:'username',inputType:'text',ph:''},handleChange:handleChange,param:errors.usernameError})),React.createElement(\"div\",{className:\"ItemPasswordLogin\"},React.createElement(Item,{text:\"Password\"}),React.createElement(Input,{attribute:{name:'password',inputType:'password',ph:''},handleChange:handleChange,param:errors.passwordError})),React.createElement(Button,{text:\"Iniciar sesi\\xF3n\",handleOnClick:handleOnClick,param:params}),isLoading&&React.createElement(Backdrop,{open:open,className:classes.backdrop},React.createElement(CircularProgress,{color:\"inherit\"})))))));};export default Login;","map":{"version":3,"sources":["C:/Users/bartm/Documents/react/examengposalinas/src/components/pages/Login/Login.js"],"names":["React","useState","Redirect","Link","Backdrop","CircularProgress","Title","Input","Item","Button","ModalError","makeStyles","useStyles","theme","backdrop","zIndex","color","localstorageData","localStorage","getItem","lsd","JSON","parse","Login","classes","username","setUsername","password","setPassword","isLogin","setIsLogin","isLoading","setIsLoading","hasErrors","setHasErrors","open","usernameError","passwordError","errors","setErrors","handleChange","name","value","console","log","showErrors","stopIsLoading","ifMatch","user","pass","ac","firstName","account","stringify","setItem","setTimeout","handleOnClick","login","clearErrorModal","params","inputType","ph"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport './Login.css';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Title from './components/Title';\r\nimport Input from './components/Input';\r\nimport Item from './components/Item';\r\nimport Button from '../../commons/RegularButton';\r\nimport ModalError from '../../commons/ModalError';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  backdrop: {\r\n    zIndex: 2,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nlet localstorageData = localStorage.getItem('account')\r\n\r\nlet lsd = JSON.parse(localstorageData)\r\n\r\nconst Login = () => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ username, setUsername ] = useState('');\r\n    const [ password, setPassword ] = useState('');\r\n    const [ isLogin, setIsLogin ] = useState(false);\r\n    const [ isLoading, setIsLoading ] = useState(false);\r\n    const [ hasErrors, setHasErrors ] = useState(false);\r\n\r\n    const open = true;\r\n\r\n    const [ errors, setErrors ] = useState({\r\n        usernameError: false,\r\n        passwordError: false\r\n    })\r\n\r\n    function handleChange(name, value) {\r\n        switch(name) {\r\n            case 'username':\r\n                setErrors({ usernameError: false, passwordError: false });\r\n                setHasErrors(false);\r\n                setUsername(value);\r\n                break;\r\n            case 'password':\r\n                setErrors({ usernameError: false, passwordError: false });\r\n                setHasErrors(false);\r\n                setPassword(value);\r\n                break;\r\n            default: \r\n            console.log('no hay valores')\r\n        }\r\n    }\r\n\r\n    function showErrors() {\r\n        setHasErrors(true);\r\n        setErrors({ usernameError: true, passwordError: true })\r\n    }\r\n\r\n    function stopIsLoading() {\r\n        setIsLoading(false);\r\n        showErrors();\r\n    }\r\n\r\n    function ifMatch(user, pass) {\r\n        if(user === 'gposalinas' && pass === '123456' ||\r\n            user === lsd.username && \r\n            pass === lsd.password ) {\r\n            let ac = {user, pass, firstName: 'Diego'}\r\n            let account = JSON.stringify(ac)\r\n            localStorage.setItem('account', account)\r\n            setTimeout(() => setIsLogin(true), 2000)\r\n        } else {\r\n           setTimeout(() => stopIsLoading(), 2000)\r\n        }\r\n    }\r\n\r\n    function handleOnClick() {\r\n        setIsLoading(true);\r\n        let login = { username, password }\r\n        if(login) {\r\n            ifMatch(username, password)\r\n        }\r\n    }\r\n\r\n    function clearErrorModal() {\r\n        setHasErrors(false);\r\n        setErrors({ usernameError: false, passwordError: false })\r\n    }\r\n\r\n    let params = \r\n        errors.usernameError === false &&\r\n        errors.passwordError === false\r\n    ;\r\n\r\n    return (\r\n        <>\r\n\r\n        { isLogin && <Redirect to='/home' /> }\r\n\r\n            <div className='LoginContainer'>\r\n                <div className='LoginContent'>\r\n                    <div className='Login'>\r\n                        <div className='LoginHigher' />\r\n                        <div className='LoginLower'>\r\n                        <img src=\"https://pbs.twimg.com/profile_images/999420356585705472/9Q7akHEo_400x400.jpg\" title=\"avatar\" alt=\"\" /> \r\n\r\n                            { hasErrors &&\r\n                                <ModalError\r\n                                    title='An error occurred!'\r\n                                    text=\"User or password doesn't exist.\"\r\n                                    handleOnClick={clearErrorModal}\r\n                                />\r\n                            }\r\n                                \r\n                                <div className='ItemUserLogin'>\r\n                                    <Item text='Usuario' />\r\n                                    <Input\r\n                                        attribute={{\r\n                                            name: 'username',\r\n                                            inputType: 'text',\r\n                                            ph: ''\r\n                                        }}\r\n                                        handleChange={handleChange}\r\n                                        param={errors.usernameError}\r\n                                    />\r\n                                </div>\r\n                                <div className='ItemPasswordLogin'>\r\n                                    <Item text='Password' />\r\n                                    <Input\r\n                                        attribute={{\r\n                                            name: 'password',\r\n                                            inputType: 'password',\r\n                                            ph: ''\r\n                                        }}\r\n                                        handleChange={handleChange}\r\n                                        param={errors.passwordError}\r\n                                    />\r\n                                </div>\r\n\r\n                                <Button \r\n                                    text='Iniciar sesiÃ³n'\r\n                                    handleOnClick={handleOnClick}\r\n                                    param={params}\r\n                                />\r\n\r\n                      \r\n\r\n                            { isLoading &&\r\n                                <Backdrop open={open} className={classes.backdrop}>\r\n                                    <CircularProgress color=\"inherit\" />\r\n                                </Backdrop>\r\n                            }\r\n                          \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}